[package]
name = "freq"
version = "0.6.1"
authors = ["Ryan Castellucci <code@ryanc.org>"]
edition = "2021"
resolver = "2"

[dependencies]
clap = { version = "4", features = ["derive"] }
counter = { version = "0.6" }
build-info = "0"
semver = "1"

regex = { version = "1", optional = true }

bzip2 = { version = "0.5", optional = true }
flate2 = { version = "1.0", optional = true }
lz4_flex = { version = "0.11", optional = true }
xz2 = { version = "0.1", optional = true }
zstd = { version = "0.13", optional = true }

[build-dependencies]
build-info = "0"
build-info-build = "0"

[features]
default = ["egg"]
all = ["decompress", "regex"]

regex = ["dep:regex", "_regex"]
_regex = []

decompress = ["unbz2", "ungz", "unlz4", "unxz", "unzstd"]
unbz2 = ["dep:bzip2", "_any_decompress"]
ungz = ["dep:flate2", "_any_decompress"]
unlz4 = ["dep:lz4_flex", "_any_decompress"]
unxz = ["dep:xz2", "_any_decompress"]
unzstd = ["dep:zstd", "_any_decompress"]
_any_decompress = []

egg = []

[[bin]]
name = "freq"
test = false
bench = false

[profile.lto]
inherits = "release"
lto = true
